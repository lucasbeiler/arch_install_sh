## Details
This project builds upon Alpine Linux, a minimal distribution designed with a reduced attack surface and based on the musl libc and BusyBox utils. It serves as a strong foundation for a tightly restricted operating system. The system aims to achieve Full Verified Boot, adoption of modern memory exploit mitigations, and strong isolation and restriction mechanisms to create a cryptographically enforced chain of trust from firmware to userspace.

Full Verified Boot is implemented using UEFI Secure Boot, TPM 2.0, and dm-verity. The bootloader, kernel, and initramfs are combined according to the Unified Kernel Image (UKI) specification. This unified image is cryptographically validated by UEFI Secure Boot on every boot, ensuring the integrity and authenticity of the early boot chain. The immutable, read-only root partition is cryptographically validated by dm-verity at each boot, providing integrity and authenticity guarantees for the whole root partition. Any modification to the Unified Kernel Image or the root partition breaks an otherwise successful boot, enforcing a strict chain of trust. TPM 2.0 acts as a hardware root of trust, where user data decryption keys are only accessible if firmware and Secure Boot configurations match a known-good PCR-based measurement. The user data partition (/data) is the only writable and persistent area on disk, and policies strictly prevent execution from there. As a result, the entire executable surface of the system is cryptographically validated.

**Note: Most details are still a work in progress, particularly those described below, many of which have not yet been started at all. These paragraphs are included to illustrate the intended goals.**

Application security is enforced by minimizing the number of user-facing programs. Aside from a Wayland-based compositor and window manager and some basic utilities, the only primary user-facing application is Chromium, and it has a strong sandboxing architecture by default and advanced, modern exploit mitigations. For example, Chromium uses PartitionAlloc as its secure memory allocator and deploys modern exploit mitigations such as Control Flow Integrity, shadow stacks, and memory tagging (on supported hardware). Beyond the browser's own great sandbox, the OS also ensures that Chromium is further restricted and confined under strict Linux Security Module (LSM) policies. Besides Chromium, some system services with higher attack surfaces, such as iwd, the Wi-Fi daemon and DHCP client, are also confined by strict LSM policies. Where applied, LSMs are also used for W^X enforcement by forbidding memory that is both writable and executable at the same time. Chromium will also be further hardened by patches from [Trivalent](https://github.com/secureblue/Trivalent) and [Vanadium](https://github.com/grapheneos/vanadium) (except patches specific to Android/GrapheneOS).

In order to provide a flexible yet isolated working environment, a virtual machine runs in the background using [Cloud Hypervisor](https://cloudhypervisor.org), a Rust-written VMM, on top of the KVM hypervisor. This VM provides local SSH access for development tasks using tools such as tmux, neovim, etc. This way, inside the VM, there's freedom and flexibility.

The kernel is compiled with hardening patches from the [linux-hardened](https://github.com/anthraxx/linux-hardened) project. Additional hardening is also applied to its build configuration, sysctl flags, and kernel boot parameters. Recommendations from the Kernel Self-Protection Project (KSPP), GrapheneOS, PaX/grsec, and the kernel-hardening-checker are also applied as possible. Over time, all major software components are intended to be compiled with Clang to enable its forward-edge, type-based Control Flow Integrity, including ShadowCallStack on arm64 for backward-edge CFI protections. ARM Memory Tagging Extension (MTE) is also considered as a future enhancement on ARMv9 hardware (but we currently have no ARMv9 laptops out there).

USB and peripheral attack surface is minimized by configuring the kernelâ€™s USB subsystem to deny new USB device connections by default (this sysctl toggle is a feature of [linux-hardened](https://github.com/anthraxx/linux-hardened)), mitigating malicious USB-based exploitation. A special privileged service can be used to toggle this restriction via keyboard shortcuts when the user needs. IOMMU enforcement is also enabled to protect against DMA attacks. Some known "DMA-prone" kernel modules (like thunderbolt) are removed too. In the future, an auto-reboot mechanism will be implemented to reboot the computer when it remains on the lock screen for too long without being unlocked, as a measure to put the user data partition back at rest, encrypted.

A stateful firewall is configured by default using iptables. The firewall permits only outgoing connections and drops incoming packets from connections initiated by remote hosts. This ensures that only locally initiated outbound traffic can establish new network connections, substantially reducing exposure to remote attacks.

Secure DNS is configured system-wide using [dnscrypt-proxy](https://github.com/DNSCrypt/dnscrypt-proxy). Additionally, Chromium's own secure DNS resolver is configured to use DNS over HTTPS (DoH) using the AdGuardDNS DoH endpoints, which is reasonably privacy-respecting and blocks known ads and malicious domains. ECH/ESNI is also used by the Chromium's DNS resolver in order to prevent certain ways of domain name leakage through unencrypted SNI. Finally, for secure network time syncing, the NTP/NTS client is [ntpd-rs](https://github.com/pendulum-project/ntpd-rs), a Rust-written project. Instead of NTP, NTS is used for secure and authenticated time syncing.